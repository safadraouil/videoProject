{"ast":null,"code":"import _slicedToArray from\"/home/draouil/Documents/Workspaces/VideosProject/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import\"bootstrap/dist/css/bootstrap.css\";import Contact from\"./Contact\";import MyList from\"./MyList\";import Register from\"./Register\";import{BrowserRouter as Router,Routes,Route,Link,Navigate}from\"react-router-dom\";import App from\"./App\";import Connexion from\"./Connexion\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Navbar=function Navbar(){var tokenString=localStorage.getItem(\"token\");var userToken=JSON.parse(tokenString);var _useState=useState(null),_useState2=_slicedToArray(_useState,2),token=_useState2[0],setToken=_useState2[1];useEffect(function(){!token&&setToken();!token&&localStorage.removeItem(\"token\");},[token]);if(!userToken&&!token){return/*#__PURE__*/_jsx(Connexion,{setToken:setToken});}function handelDeconnect(){localStorage.removeItem(\"token\");setToken(null);}var Admin=userToken&&(userToken===null||userToken===void 0?void 0:userToken.type)===\"Admin\"?true:false;return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar navbar-expand-lg navbar-dark bg-primary\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"navbar-brand\",href:\"_blank\",children:\"Navbar\"}),/*#__PURE__*/_jsx(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-toggle\":\"collapse\",\"data-target\":\"#navbarColor01\",\"aria-controls\":\"navbarColor01\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\",children:/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggler-icon\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"collapse navbar-collapse \",id:\"navbarColor01\",children:[/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav mr-auto\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item \",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link active\",to:\"/\",children:\"Videos\"})}),Admin&&/*#__PURE__*/_jsx(\"li\",{className:\"nav-item active\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link active\",to:\"/App\",children:\"Edit\"})}),Admin&&/*#__PURE__*/_jsx(\"li\",{className:\"nav-item active\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link active\",to:\"/Register\",children:\"Register\"})}),!Admin&&/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link active\",to:\"/Contact\",children:\"Contact\"})}),/*#__PURE__*/_jsxs(\"li\",{children:[\" \",/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return handelDeconnect();},className:\"nav-link active\",style:{backgroundColor:\"transparent\",border:\"none\"},children:[\" \",/*#__PURE__*/_jsx(\"p\",{className:\"nav-link active\",children:\"D\\xE9connexion\"})]})]})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"form-inline my-2 my-lg-0\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-control mr-sm-2\",type:\"text\",placeholder:\"Search\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary my-2 my-sm-0\",type:\"submit\",children:\"Search\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",exact:true,element:/*#__PURE__*/_jsx(MyList,{})}),/*#__PURE__*/_jsx(Route,{path:\"/Connexion\",exact:true,element:/*#__PURE__*/_jsx(Connexion,{})}),Admin&&/*#__PURE__*/_jsx(Route,{path:\"/Register\",element:/*#__PURE__*/_jsx(Register,{})}),Admin&&/*#__PURE__*/_jsx(Route,{path:\"/App\",element:/*#__PURE__*/_jsx(App,{})}),/*#__PURE__*/_jsx(Route,{path:\"/Contact\",element:/*#__PURE__*/_jsx(Contact,{})}),/*#__PURE__*/_jsx(Route,{path:\"/redirect\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/Contact\"})})]})})]})});};export default Navbar;","map":{"version":3,"names":["React","useEffect","useState","Contact","MyList","Register","BrowserRouter","Router","Routes","Route","Link","Navigate","App","Connexion","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Navbar","tokenString","localStorage","getItem","userToken","JSON","parse","_useState","_useState2","_slicedToArray","token","setToken","removeItem","handelDeconnect","Admin","type","children","className","href","id","to","onClick","style","backgroundColor","border","placeholder","path","exact","element"],"sources":["/home/draouil/Documents/Workspaces/VideosProject/src/Navbar.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport Contact from \"./Contact\";\nimport MyList from \"./MyList\";\nimport Register from \"./Register\";\nimport {\n  BrowserRouter as Router,\n  Routes,\n  Route,\n  Link,\n  Navigate\n} from \"react-router-dom\";\nimport App from \"./App\";\nimport Connexion from \"./Connexion\";\nconst Navbar = () => {\n  var tokenString = localStorage.getItem(\"token\");\n  var userToken = JSON.parse(tokenString);\n  const [token, setToken] = useState(null);\n  useEffect(() => {\n    !token && setToken();\n    !token && localStorage.removeItem(\"token\");\n  }, [token]);\n\n  if (!userToken && !token) {\n    return <Connexion setToken={setToken} />;\n  }\n  function handelDeconnect() {\n    localStorage.removeItem(\"token\");\n    setToken(null);\n  }\n  const Admin = userToken && userToken?.type === \"Admin\" ? true : false;\n  return (\n    <>\n      <Router>\n        <nav className=\"navbar navbar-expand-lg navbar-dark bg-primary\">\n          <a className=\"navbar-brand\" href=\"_blank\">\n            Navbar\n          </a>\n          <button\n            className=\"navbar-toggler\"\n            type=\"button\"\n            data-toggle=\"collapse\"\n            data-target=\"#navbarColor01\"\n            aria-controls=\"navbarColor01\"\n            aria-expanded=\"false\"\n            aria-label=\"Toggle navigation\"\n          >\n            <span className=\"navbar-toggler-icon\"></span>\n          </button>\n          <div className=\"collapse navbar-collapse \" id=\"navbarColor01\">\n            <ul className=\"navbar-nav mr-auto\">\n              <li className=\"nav-item \">\n                <Link className=\"nav-link active\" to=\"/\">\n                  Videos\n                </Link>\n              </li>\n\n              {Admin && (\n                <li className=\"nav-item active\">\n                  <Link className=\"nav-link active\" to=\"/App\">\n                    Edit\n                  </Link>\n                </li>\n              )}\n\n              {Admin && (\n                <li className=\"nav-item active\">\n                  <Link className=\"nav-link active\" to=\"/Register\">\n                    Register\n                  </Link>\n                </li>\n              )}\n\n              {!Admin && (\n                <li className=\"nav-item\">\n                  <Link className=\"nav-link active\" to=\"/Contact\">\n                    Contact\n                  </Link>\n                </li>\n              )}\n              <li>\n                {\" \"}\n                <button\n                  onClick={() => handelDeconnect()}\n                  className=\"nav-link active\"\n                  style={{ backgroundColor: \"transparent\", border: \"none\" }}\n                >\n                  {\" \"}\n                  <p className=\"nav-link active\">DÃ©connexion</p>\n                </button>\n              </li>\n            </ul>\n\n            <form className=\"form-inline my-2 my-lg-0\">\n              <input\n                className=\"form-control mr-sm-2\"\n                type=\"text\"\n                placeholder=\"Search\"\n              />\n              <button className=\"btn btn-secondary my-2 my-sm-0\" type=\"submit\">\n                Search\n              </button>\n            </form>\n          </div>\n        </nav>\n\n        <div className=\"container-fluid\">\n          <Routes>\n            <Route path=\"/\" exact element={<MyList />} />\n            <Route path=\"/Connexion\" exact element={<Connexion />} />\n            {Admin && <Route path=\"/Register\" element={<Register />} />}\n            {Admin && <Route path=\"/App\" element={<App />}></Route>}\n            <Route path=\"/Contact\" element={<Contact />} />\n            <Route path=\"/redirect\" element={<Navigate to=\"/Contact\" />} />\n          </Routes>\n        </div>\n      </Router>\n    </>\n  );\n};\n\nexport default Navbar;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}