{"ast":null,"code":"import _slicedToArray from\"/home/draouil/Documents/Workspaces/VideosProject/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";import Items from\"./items\";import{useForm}from\"react-hook-form\";import\"./App.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit;var _useState=useState(),_useState2=_slicedToArray(_useState,2),item=_useState2[0],setItem=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),items=_useState4[0],setItems=_useState4[1];var userToken=JSON.parse(localStorage.getItem(\"token\"));var handleRemove=function handleRemove(items){axios.delete(\"https://Videos-api.onrender.com/users/removeVideo\",{Name:items}).then(function(res){return console.log(\"OK\");}).catch(function(err){return console.error(err);});};var onSubmit=function onSubmit(data){axios.post(\"https://Videos-api.onrender.com/users/createVideo\",data).then(function(data){setItem(data.data);}).catch(function(err){console.error(err);});};useEffect(function(){var timer=\"\";axios.get(\"https://Videos-api.onrender.com/users/findVideo\").then(function(data){timer=setTimeout(function(){setItems(data.data);},500);}).catch(function(err){console.log(err);});return function(){clearTimeout(timer);};},[item,items]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"Card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"Titl col-form-label\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Edit Videos List\"})}),/*#__PURE__*/_jsx(\"form\",{className:\"Formscard\",onSubmit:handleSubmit(onSubmit),children:/*#__PURE__*/_jsxs(\"div\",{className:\"List\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-form-label Labels\",htmlFor:\"inputDefault\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{className:\"Inputs form-control\",name:\"Name\",ref:register({required:true,maxLength:20,pattern:/^[A-Za-z]+$/i}),type:\"text\",placeholder:\"input Name\",id:\"inputDefault\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"List\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"Labels\",htmlFor:\"exampleTextarea\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"Textareas form-control\",name:\"Description\",ref:register({required:true}),id:\"exampleTextarea\",rows:\"3\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"List\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-form-label Labels\",htmlFor:\"inputDefault\",children:\"Url\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control Inputs\",name:\"Url\",ref:register({required:true}),type:\"text\",placeholder:\"https://media.w3.org/2010/05/sintel/trailer_hd.mp4\",id:\"inputDefault\"})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"btn btn-primary Buttons\",children:[\" \",\"\\u2705\"]})})]})}),/*#__PURE__*/_jsx(Items,{items:items,type:userToken.type,removeHandler:function removeHandler(dataa){return handleRemove(dataa);}})]})})});}export default App;","map":{"version":3,"names":["React","useEffect","useState","axios","Items","useForm","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","_useForm","register","handleSubmit","_useState","_useState2","_slicedToArray","item","setItem","_useState3","_useState4","items","setItems","userToken","JSON","parse","localStorage","getItem","handleRemove","delete","Name","then","res","console","log","catch","err","error","onSubmit","data","post","timer","get","setTimeout","clearTimeout","children","className","htmlFor","name","ref","required","maxLength","pattern","type","placeholder","id","rows","removeHandler","dataa"],"sources":["/home/draouil/Documents/Workspaces/VideosProject/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nimport axios from \"axios\";\nimport Items from \"./items\";\nimport { useForm } from \"react-hook-form\";\n\nimport \"./App.scss\";\n\nfunction App() {\n  const { register, handleSubmit } = useForm();\n  const [item, setItem] = useState();\n  const [items, setItems] = useState([]);\n  var userToken = JSON.parse(localStorage.getItem(\"token\"));\n  const handleRemove = (items) => {\n    axios\n      .delete(\"https://Videos-api.onrender.com/users/removeVideo\", {\n        Name: items\n      })\n      .then((res) => console.log(\"OK\"))\n      .catch((err) => console.error(err));\n  };\n  const onSubmit = (data) => {\n    axios\n      .post(\"https://Videos-api.onrender.com/users/createVideo\", data)\n      .then((data) => {\n        setItem(data.data);\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  };\n  useEffect(() => {\n    let timer = \"\";\n    axios\n      .get(\"https://Videos-api.onrender.com/users/findVideo\")\n      .then((data) => {\n        timer = setTimeout(() => {\n          setItems(data.data);\n        }, 500);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [item, items]);\n  return (\n    <>\n      <div>\n        <div className=\"Card\">\n          <div className=\"Titl col-form-label\">\n            <h1>Edit Videos List</h1>\n          </div>\n          <form className=\"Formscard\" onSubmit={handleSubmit(onSubmit)}>\n            <div className=\"List\">\n              <div className=\"form-group\">\n                <label className=\"col-form-label Labels\" htmlFor=\"inputDefault\">\n                  Name\n                </label>\n                <input\n                  className=\"Inputs form-control\"\n                  name=\"Name\"\n                  ref={register({\n                    required: true,\n                    maxLength: 20,\n                    pattern: /^[A-Za-z]+$/i\n                  })}\n                  type=\"text\"\n                  placeholder=\"input Name\"\n                  id=\"inputDefault\"\n                />\n              </div>\n              <div className=\"List\">\n                <div className=\"form-group\">\n                  <label className=\"Labels\" htmlFor=\"exampleTextarea\">\n                    Description\n                  </label>\n                  <textarea\n                    className=\"Textareas form-control\"\n                    name=\"Description\"\n                    ref={register({\n                      required: true\n                    })}\n                    id=\"exampleTextarea\"\n                    rows=\"3\"\n                  ></textarea>\n                </div>\n              </div>\n              <div className=\"List\">\n                <div className=\"form-group\">\n                  <label\n                    className=\"col-form-label Labels\"\n                    htmlFor=\"inputDefault\"\n                  >\n                    Url\n                  </label>\n                  <input\n                    className=\"form-control Inputs\"\n                    name=\"Url\"\n                    ref={register({ required: true })}\n                    type=\"text\"\n                    placeholder=\"https://media.w3.org/2010/05/sintel/trailer_hd.mp4\"\n                    id=\"inputDefault\"\n                  />\n                </div>\n              </div>\n              <div>\n                <button type=\"submit\" className=\"btn btn-primary Buttons\">\n                  {\" \"}\n                  âœ…\n                </button>\n              </div>\n            </div>\n          </form>\n          {\n            <Items\n              items={items}\n              type={userToken.type}\n              removeHandler={(dataa) => handleRemove(dataa)}\n            />\n          }\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}